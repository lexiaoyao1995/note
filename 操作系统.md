* [操作系统](#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F)
  * [内存分配策略](#%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E7%AD%96%E7%95%A5)
  * [进程与线程](#%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B)
    * [区别和联系](#%E5%8C%BA%E5%88%AB%E5%92%8C%E8%81%94%E7%B3%BB)
    * [线程调度](#%E7%BA%BF%E7%A8%8B%E8%B0%83%E5%BA%A6)
    * [线程切换步骤](#%E7%BA%BF%E7%A8%8B%E5%88%87%E6%8D%A2%E6%AD%A5%E9%AA%A4)
    * [linux下IPC（进程间通信）](#linux%E4%B8%8Bipc%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1)
    * [协程](#%E5%8D%8F%E7%A8%8B)

# 操作系统

## 内存分配策略

静态存储 ：编译时确定每个数据目标在运行时的存储空间需求 

要求代码中不允许有可变数据存在，或是递归存在

栈式存储：数据区需求在编译时未知，运行时确定

堆式存储：数据区在编译时和运行时都无法确定

## 进程与线程

### 区别和联系

进程是资源分配的最小单位，线程是程序执行的最小单位

进程使用独立的数据空间，线程共享进程的数据空间

### 线程调度

线程调度算法

时间片轮转调度，先来先服务调度，优先级调度，高响应比优先调度

### 线程切换步骤

线程上下文切换，线程切换代价

> 对于单核CPU来说（对于多核CPU，此处就理解为一个核），CPU在一个时刻只能运行一个线程，当在运行一个线程的过程中转去运行另外一个线程，这个叫做线程上下文切换（对于进程也是类似）。

> 线程切换时需要知道在这之前当前线程已经执行到哪条指令了，所以需要记录程序计数器的值，另外比如说线程正在进行某个计算的时候被挂起了，那么下次继续执行的时候需要知道之前挂起时变量的值时多少，因此需要记录CPU寄存器的状态。所以一般来说，线程上下文切换过程中会记录程序计数器、CPU寄存器状态等数据。

### linux下IPC（进程间通信）

进程间数据共享的场景，使用共享内存

进程间数据交换的场景，使用UnixSocket

### 协程

更轻量化，是在用户态进行调度，切换的代价比线程切换低很多

现在常用的工具是Quasar